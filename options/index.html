<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Color Helper</title>
  <link href="/options/bootstrap@5.3.2.css" rel="stylesheet" type="text/css" media="all" />
  <script defer src="/options/alpine-CSP@3.13.3.min.js"></script>
  <script src="/options/options.js"></script>
</head>

<body>


  <div class="container pb-5" x-data="settings">

    <div class="row">
      <div class="col-12">
        <h1 class="display-5 d-flex align-items-center my-3" style="height:55px">
          <img src="/icons/128x128.png" class="h-100 me-2" alt="Color Helper">

          <span>Color Helper Settings</span>
        </h1>
        <hr>
      </div>
    </div>
    <div class="row gx-5">
      <div class="col-4">
        <h2 class="display-6">Processing</h2>

        <label for="maxPixelRange" class="d-flex justify-content-between"><span>Max Pixels to Process</span> <strong
            class="" x-text="maxPixelsFormatted"></strong></label>
        <input type="range" class="form-range mb-3" min="100" max="1000000" x-bind:value="maxPixels" id="maxPixelRange"
          @input="updateMaxPixels">


        <p>Max number of pixels to process. A higher numbers means it takes longer time to process the selection.</p>
        <p>When the product of your selection's dimensions (width &times; height) exceeds the configured value,
          the selection will be internally scaled down to have a product of <i x-text="maxPixelsFormatted"></i>
          pixels.
        </p>
        <p class="small text-muted">Default: 100,000</p>

      </div>
      <div class="col-4">
        <h2 class="display-6">Interface</h2>


        <div class="form-check mb-3">
          <input class="form-check-input" type="checkbox" id="highlightColorShadeCheckbox"
            x-bind:checked="highlightColorShade" @change="toggleHighlightColorShade">
          <label class="form-check-label" for="highlightColorShadeCheckbox">
            Highlight color shade on hover
          </label>
        </div>

        <div class="form-check">
          <input class="form-check-input" type="checkbox" id="reduceUnmatchedOpacityCheckbox"
            x-bind:checked="reduceUnmatchedOpacity" @change="toggleReduceUnmatchedOpacity"
            :disabled="highlightOptionsDisabled">
          <label class="form-check-label" for="reduceUnmatchedOpacityCheckbox">
            Reduce opacity for unmatched color shades
          </label>
        </div>
        <template x-if="reduceUnmatchedOpacity">
          <div>
            <label for="unmatchedOpacityRange" class="d-flex justify-content-between"><span>Unmatched opacity</span>
              <strong class="" x-text="unmatchedOpacityFormatted"></strong></label>
            <input type="range" class="form-range" min="0" max="100" :value="unmatchedOpacity"
              id="unmatchedOpacityRange" @input="updateUnmatchedOpacity" :disabled="disableUnmatchedOpacity">
          </div>
        </template>


        <div class="form-check mt-3">
          <input class="form-check-input" type="checkbox" id="desaturateUnmatchedCheckbox"
            x-bind:checked="desaturateUnmatched" @change="toggleDesaturateUnmatched"
            :disabled="highlightOptionsDisabled">
          <label class="form-check-label" for="desaturateUnmatchedCheckbox">
            Desaturate unmatched color shades
          </label>
        </div>

        <template x-if="desaturateUnmatched">
          <div>
            <label for="unmatchedSaturationRange" class="d-flex justify-content-between"><span>Unmatched
                saturation</span>
              <strong class="" x-text="unmatchedSaturationFormatted"></strong></label>
            <input type="range" class="form-range" min="0" max="100" :value="unmatchedSaturation"
              id="unmatchedSaturationRange" @input="updateUnmatchedSaturation" :disabled="disableUnmatchedSaturation">
          </div>
        </template>


        <div class="form-check mt-3">
          <input class="form-check-input" type="checkbox" id="outlineMatchedCheckbox" x-bind:checked="outlineMatched"
            @change="toggleOutlineMatched" :disabled="highlightOptionsDisabled">
          <label class="form-check-label" for="outlineMatchedCheckbox">
            Outline matched color shade
          </label>
        </div>

        <template x-if="outlineMatched">

          <div class="d-flex justify-content-between">
            <label for="outlineColorInput" class="form-label mb-0 d-flex align-items-center">Outline Color</label>
            <input type="color" class="mx-3 d-flex flex-grow-1 form-control form-control-color" id="outlineColorInput"
              :value="outlineColor" :disabled="disableOutlineColor" @input="updateOutlineColor">
            <span class="font-monospace d-flex align-items-center" x-text="outlineColor"></span>
          </div>
        </template>

        <div class="form-check mt-3">
          <input class="form-check-input" type="checkbox" id="pauseOnClickCheckbox" x-bind:checked="pauseOnClick"
            @change="togglePauseOnClick">
          <label class="form-check-label" for="pauseOnClickCheckbox">
            Pause hover on click<br><small class="text-muted">Useful when you want to copy the color</small>
          </label>
        </div>

        <label for="colorThemeCanvas" class="form-label mt-3 mb-1">Color Theme</label>

        <div class="form-check">
          <input @change="toggleColorTheme" class="form-check-input" type="radio" name="colorTheme" value="Canvas"
            id="colorThemeCanvas">
          <label class="form-check-label" for="colorThemeCanvas">Attempt to adapt to the current website's
            design</label>
        </div>
        <div class="form-check">
          <input @change="toggleColorTheme" class="form-check-input" type="radio" name="colorTheme" value="Light"
            id="colorThemeLight">
          <label class="form-check-label" for="colorThemeLight">Always use light</label>
        </div>
        <div class="form-check">
          <input @change="toggleColorTheme" class="form-check-input" type="radio" name="colorTheme" value="Dark"
            id="colorThemeDark">
          <label class="form-check-label" for="colorThemeDark">Always use dark</label>
        </div>
        <div class="form-check">
          <input @change="toggleColorTheme" class="form-check-input" type="radio" name="colorTheme" value="System"
            id="colorThemeSystem">
          <label class="form-check-label" for="colorThemeSystem">Use System Default</label>
        </div>

        <label for="analyzerBackgroundAuto" class="mt-3 form-label mb-1">Analyzer Background</label>
        <div class="form-check">
          <input @change="toggleAnalyzerBackground" class="form-check-input" type="radio" name="analyzerBackground"
            value="auto" id="analyzerBackgroundAuto">
          <label class="form-check-label" for="analyzerBackgroundAuto">Use color from Theme</label>
        </div>
        <div class="form-check">
          <input @change="toggleAnalyzerBackground" class="form-check-input" type="radio" name="analyzerBackground"
            value="custom" id="analyzerBackgroundCustom">
          <label class="form-check-label" for="analyzerBackgroundCustom">Use Custom Color</label>
        </div>
        <template x-if="showCustomAnalyzerBackgroundPicker">
          <div class="d-flex justify-content-between mb-3">
            <label for="analyzerBackgroundColorInput" class="form-label mb-0 d-flex align-items-center">Custom
              Color</label>
            <input type="color" class="mx-3 d-flex flex-grow-1 form-control form-control-color"
              id="analyzerBackgroundColorInput" :value="analyzerBackground" @input="toggleAnalyzerBackground">
            <span class="font-monospace d-flex align-items-center" x-text="analyzerBackground"></span>
          </div>
        </template>


        <div class="form-check mt-3">
          <input class="form-check-input" type="checkbox" id="logTimingsCheckbox" x-bind:checked="logTimings"
            @change="toggleLogTimings">
          <label class="form-check-label" for="logTimingsCheckbox">
            Log some timings to console
          </label>
        </div>


      </div>
      <div class="col-4">
        <h2 class="display-6">Misc</h2>

        <div class="d-flex justify-content-between">
          <div>
            Keyboard Shortcut: <kbd class="lead" x-text="shortcut"></kbd>
          </div>
          <div class="d-flex align-items-center">


            <a class="btn btn-outline-secondary btn-sm" href="#" @click="showShortcutsPage">change</a>
          </div>
        </div>


        <template x-if="shortcut">
          <div class="my-4">
            Fullscreen Shortcut: <kbd class="lead" x-text="shortcut"></kbd>
            <code class="lead mx-2">‚ü∂</code>
            <kbd class="lead">space</kbd>
          </div>
        </template>

        <hr>

        <div class="d-flex justify-content-center">
          <a class="btn btn-outline-warning align-self-center" href="#" @click="resetSettings">Reset to
            default settings</a>
        </div>
        <hr>

        <ul class="list-group list-group-flush">
          <li class="list-group-item">
            <a href="https://github.com/Mtillmann/color-helper-extension">Project page on GitHub</a>
          </li>
          <li class="list-group-item">
            <a href="https://isit.red">isit.red - my assistive app for color vision deficient people</a>
          </li>
          <li class="list-group-item">
            <a href="https://mtillmann.blog/pages/tags.html?tag=colorblind">more on colorblindness on my blog</a>
          </li>
        </ul>

      </div>
    </div>



  </div>



</body>

</html>